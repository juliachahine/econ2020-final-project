---
title: "AIRLINE HUB PRICING"
author: "Julia Chahine"
format: revealjs
output:
  quarto::presentation:
    center: true
    header:
      center: false
execute: 
  echo: false
---

## MOTIVATION
While flying home for spring break, I had a conversation about flights being cheaper when flying from carrier hub to carrier hub. \
\

This was also around the time I got stressed about this project! And, alas! 


## RESEARCH QUESTION 

\
**GOAL:** \ To investigate the relationship between flight prices (fares) and carrier hubs
\
\

### **Q:** How does flying from Hub to Hub effect prices? 


## PROJECT STRUCTURE
- data 
    
- code 
    
- output-docs
    - pres
        - Contains this presentation
- output
    - Contains outputs of figures and regressions

## DATA
- Contains folders of raw data by source
    - Bureau of Transportation Statistics
        - U.S. carrier flight data
    - Wikipedia 
        - U.S. carrier and hub classifications
- CSV output of data for analysis

## CODE 
- analysis 
    - Contains scripts for summary statistics, figures, and regression
- data-management
    - Contains second level data manipulations (i.e., merges)
- data-specs
    - Contains primary data manipulations (i.e., raw data inputs)

## ANALYSIS {.smaller}
I looked at 8 U.S. Carriers 

:::{.columns}

::: {.column width="40%"}
- AS: Alaska Airlines
- AA : American Airlines
- DL : Delta Airlines
- F9 : Frontier Airlines
:::

::: {.column width="60%"}
- G4 : Alligiant Air
- NK : Spirit Airlines
- UA : United Airlines
- WN : Southwest Airlines
:::

:::

and 52 Origin Airports. \


With these data, I matched each flight to origin hub and destination hub and was then able to determine which flights were hub to hub.


## FIGURE
![](figure.png)

## REGRESSION

Everyone knows I'm not an econometrician (please, squint and forget everything you know about exogeneity):
```{r}
#| execute: true
library(data.table)
library(estimatr)
library(fixest)
library(modelsummary)
library(gt)

flight_prices <- read.csv("/Users/juliachahine/Library/CloudStorage/Dropbox/Mac (2)/Documents/Brown/2023_2024 Brown/2024_spring/ECON2020_ECONANALYSIS/econ2020-final-project/data/flight-price-hub-data-cleaned.csv")

hub_iv_mod <- feols(fare_pm ~ as.factor(CARRIER)| ORIGIN + YEAR + DEST| HUB2HUB ~  AS_HUB2HUB + AA_HUB2HUB + DL_HUB2HUB + G4_HUB2HUB + F9_HUB2HUB + NK_HUB2HUB + WN_HUB2HUB + UA_HUB2HUB, flight_prices)

etable(hub_iv_mod)

```

## REGRESSION pt2

```{r}
#| execute: true
library(data.table)
library(estimatr)
library(fixest)
library(modelsummary)
library(gt)

flight_prices <- read.csv("/Users/juliachahine/Library/CloudStorage/Dropbox/Mac (2)/Documents/Brown/2023_2024 Brown/2024_spring/ECON2020_ECONANALYSIS/econ2020-final-project/data/flight-price-hub-data-cleaned.csv")

hub_iv_mod <- feols(fare_pm ~ as.factor(CARRIER)| ORIGIN + YEAR + DEST| HUB2HUB ~  AS_HUB2HUB + AA_HUB2HUB + DL_HUB2HUB + G4_HUB2HUB + F9_HUB2HUB + NK_HUB2HUB + WN_HUB2HUB + UA_HUB2HUB, flight_prices)


tidy_hub_iv <- broom::tidy(hub_iv_mod)

gt(tidy_hub_iv)

```

## UNIT TEST
\
I created a unit test that checks the merge between flight data and hub classifications was successful. \
\
The unit test is not perfect, but my code does pass it! 

## CONCLUSIONS
- Quarto is not the easiest way to make presentations (I struggled)
- Airline Carriers seem to increase prices flying from Hub to Hub, unlike (what I have experience as) colloquial belief 

